<h1>Edit sight</h1>

<% if (defined? @error_message != nil) %>
<p class="error"><%=@error_message %></p>
<% end %>

<form action="/sights/<%=@sight.id %>" method="POST">
  <fieldset>
    <label for="name">Name</label>
    <input type="text" name="name" value="<%= @sight.name %>">
  </fieldset>
  <fieldset>
    <label for="type_id">Type</label>
    <select name="type_id">
    <option value="">Please choose</option>
      <% for type in @types %>
      <option <% if (type.id == @sight.type_id) %>selected<% end %> value="<%=type.id %>"><%=type.name %></option>
      <% end %>
    </select>
    <p><a href="/types/new">Add type</a></p>
  </fieldset>
  <fieldset>
    <label for="location_id">Location</label>
    <select name="location_id">
    <option value="">Please choose</option>
      <% for location in @locations %>
      <option <% if (location.id == @sight.location_id) %>selected<% end %> value="<%=location.id %>"><%=location.name %></option>
      <% end %>
    </select>
    <p><a href="/locations/new">Add location</a></p>
  </fieldset>
  <fieldset>
    <label for="image_url">Image url</label>
    <input type="text" name="image_url" value="<%= @sight.image_url %>">
  </fieldset>
  <fieldset>
    <label for="priority">Priority</label>
    <select name="priority">
      <% for n in 0..5 do %>
        <option <% if (@sight.priority).to_i == n %>selected<% end %> value="<%= n %>"><%= n %></option>
      <% end %>
    </select>
  </fieldset>
  <fieldset>
    <label for="visited">Visited</label>
    <input type="checkbox" name="visited" value="visited"
    <% if @sight.visited %>checked<% end %>>
  </fieldset>
  <fieldset>
    <input type="submit" value="SAVE">
  </fieldset>
</form>
